<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Breaking Bad</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/api.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
<body>

<!-- navbar -->
<nav class="navbar navbar-fixed-top navbar-expand-sm  ">
    <!-- Brand -->
    <a class="navbar-brand" href="#">Breaking Bad</a>

    <!-- Toggler/collapsibe Button -->
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
        <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Links -->
    <div class="collapse navbar-collapse" id="collapsibleNavbar">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="#section_characters">Characters</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#section_episodes">Episodes</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#section_quotes">Quotes</a>
            </li>
        </ul>
    </div>

</nav>
<!--navbar -->

<!-- slider -->
<section id="section_slider" class="pb-5">
    <div class="container-fluid">
        <div class="row " id="SLIDER">
            <div id="carouselExampleIndicators" class="carousel slide " data-ride="carousel">
                <ol class="carousel-indicators">
                    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                </ol>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img class="d-block w-100" src="img/breakingbad.jpg" alt="First slide">
                    </div>
                    <div class="carousel-item">
                        <img class="d-block w-100" src="img/2.jpg" alt="Second slide">
                    </div>
                    <div class="carousel-item">
                        <img class="d-block w-100" src="img/4.jpg" alt="Third slide">
                    </div>
                </div>
                <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>

        </div>
    </div>
</section>
<!--SLIDER-->
<!---------------->
<!-- CHARACTERS -->
<section id="section_characters" class="pb-5">
    <div class="container">
        <h5 class="section-title h1">Breaking Bad Characters</h5>
        <div class="row" id="CHARACTERS">

        </div>
    </div>
</section>
<!-- CHARACTERS -->
<!---------------->
<!--  episodes  -->
<section id="section_episodes" class="pb-5">
    <div class="container">
        <h5 class="section-title h1">BREAKING BAD EPISODES</h5>
        <div class="row" id="EPISODES">
            <!-- Card -->
            <div class="card card-image col-md-4"
                 style="background-image: url(https://image3.mouthshut.com/images/imagesp/925740313s.jpg); width: 100%;">

                <!--Card content-->
                <div class="card-body">

                    <!--Title-->
                    <h4 class="card-title">Card title</h4>
                    <!--Text-->
                    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the
                        card's content.</p>
                    <!-- Provides extra visual weight and identifies the primary action in a set of buttons -->
                    <button type="button" class="btn btn-light-blue btn-md">Read more</button>

                </div>
                <!--Card footer -->
                <div class="card-footer">
                    <ul class="list-group">
                        <li class="list-group-item disabled">Cras justo odio</li>
                        <li class="list-group-item">Dapibus ac facilisis in</li>
                        <li class="list-group-item">Morbi leo risus</li>
                        <li class="list-group-item">Porta ac consectetur ac</li>
                        <li class="list-group-item">Vestibulum at eros</li>
                    </ul>

                </div>

            </div>
            <!-- Card -->

            <div class="row row-cols-1 row-cols-md-2">
                <div class="col mb-4">
                    <!-- Card -->
                    <div class="card">

                        <!--Card image-->
                        <div class="view overlay">
                            <img class="card-img-top" src="https://mdbootstrap.com/img/Photos/Others/images/16.jpg"
                                 alt="Card image cap">
                            <a href="#!">
                                <div class="mask rgba-white-slight"></div>
                            </a>
                        </div>

                        <!--Card content-->
                        <div class="card-body">

                            <!--Title-->
                            <h4 class="card-title">Card title</h4>
                            <!--Text-->
                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the
                                card's content.</p>
                            <!-- Provides extra visual weight and identifies the primary action in a set of buttons -->
                            <button type="button" class="btn btn-light-blue btn-md">Read more</button>

                        </div>

                    </div>
                    <!-- Card -->
                </div>
                <div class="col mb-4">
                    <!-- Card -->
                    <div class="card">

                        <!--Card image-->
                        <div class="view overlay">
                            <img class="card-img-top" src="https://mdbootstrap.com/img/Photos/Others/images/16.jpg"
                                 alt="Card image cap">
                            <a href="#!">
                                <div class="mask rgba-white-slight"></div>
                            </a>
                        </div>

                        <!--Card content-->
                        <div class="card-body">

                            <!--Title-->
                            <h4 class="card-title">Card title</h4>
                            <!--Text-->
                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the
                                card's content.</p>
                            <!-- Provides extra visual weight and identifies the primary action in a set of buttons -->
                            <button type="button" class="btn btn-light-blue btn-md">Read more</button>

                        </div>

                    </div>
                    <!-- Card -->
                </div>
                <div class="col mb-4">
                    <!-- Card -->
                    <div class="card">

                        <!--Card image-->
                        <div class="view overlay">
                            <img class="card-img-top" src="https://mdbootstrap.com/img/Photos/Others/images/16.jpg"
                                 alt="Card image cap">
                            <a href="#!">
                                <div class="mask rgba-white-slight"></div>
                            </a>
                        </div>

                        <!--Card content-->
                        <div class="card-body">

                            <!--Title-->
                            <h4 class="card-title">Card title</h4>
                            <!--Text-->
                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the
                                card's content.</p>
                            <!-- Provides extra visual weight and identifies the primary action in a set of buttons -->
                            <button type="button" class="btn btn-light-blue btn-md">Read more</button>

                        </div>

                    </div>
                    <!-- Card -->
                </div>
                <div class="col mb-4">
                    <!-- Card -->
                    <div class="card">

                        <!--Card image-->
                        <div class="view overlay">
                            <img class="card-img-top" src="https://mdbootstrap.com/img/Photos/Others/images/16.jpg"
                                 alt="Card image cap">
                            <a href="#!">
                                <div class="mask rgba-white-slight"></div>
                            </a>
                        </div>

                        <!--Card content-->
                        <div class="card-body">

                            <!--Title-->
                            <h4 class="card-title">Card title</h4>
                            <!--Text-->
                            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the
                                card's content.</p>
                            <!-- Provides extra visual weight and identifies the primary action in a set of buttons -->
                            <button type="button" class="btn btn-light-blue btn-md">Read more</button>

                        </div>

                    </div>
                    <!-- Card -->
                </div>
            </div>
        </div>
    </div>
</section>
<!-- episodes -->
<!--  Quotes  -->
<section id="section_quotes" class="pb-5">
    <div class="container">
        <h5 class="section-title h1">BREAKING BAD QUOTES</h5>
        <div class="row" id="QUOTES">

        </div>
    </div>
</section>
<!-- Quotes -->

<script>
    async function getCharacters() {
        const response = await fetch("https://www.breakingbadapi.com/api/characters");
        const data = await response.json()
        return data;
    }
    async function getEpisodes() {
        const response = await fetch("https://www.breakingbadapi.com/api/episodes");
        const data = await response.json()
        return data;
    }
    getCharacters().then(function (result) {
        for (i = 0; i<result.length; i++) {
            let name =  result[i].name;
            let img =  result[i].img;
            let card = getCard(name, img);
            $(`#CHARACTERS`).append(card);
        }
    });

    // getEpisodes().then(function (result) {
    //     console.log(result);
    //     for (i = 0; i<result.length; i++) {
    //         let title =  result[i].title;
    //         let characters =  result[i].characters;
    //         let characters_photo = getEpisodeCharacters(characters);
    //         let card = getEpisodeCard(title, characters_photo);
    //         $(`#EPISODES`).append(card);
    //     }
    // });

    function getEpisodeCard(title, characters_photo){
        return`<div class="card" style="max-width: 500px; margin: 10px;">
                    <div class="row no-gutters">
                        <div class="col-sm-5" style="background: #868e96;">
                            <div  id="EPISODE_CHARACTERS" class="card-img-top h-100" alt="...">
                                ${characters_photo}
                            </div>
                        </div>
                        <div class="col-sm-7">
                            <div class="card-body">
                                <h5 class="card-title">${title}</h5>
                                <p class="card-text">Alice is a freelance web designer and developer based in London. She is specialized in HTML5, CSS3, JavaScript, Bootstrap, etc.</p>
                            </div>
                        </div>
                    </div>
                </div>`;
    }


    function getEpisodeCharacters(characters){
        let photos = '';
        for (i=0; i<characters.length; i++){
            let character_name = characters[i].name;
            let character_img = getCharacterImg(character_name);
            photos += character_img;
            // characters_images.append(character_img);
            // character_img.append(characters_images);

        }
        characters_images = `<div>${photos}</div>`;
        return $(characters_images).html();
    }

    async function getCharacterByName(name) {
        const response = await fetch("https://www.breakingbadapi.com/api/characters?name="+name);
        const data = await response.json()
        return data;
    }

    function getCharacterImg(character_name) {
       getCharacterByName(character_name).then(function (character){
           return `<img style="border-radius: 45px; border: 1px solid white" src="${character.img}"/>`
       });
    }


    function getCard(name, img){
        return `  <!-- Team member -->
            <div class="col-xs-12 col-sm-6 col-md-4">
                <div class="image-flip" ontouchstart="this.classList.toggle('hover');">
                    <div class="mainflip">
                        <div class="frontside">
                            <div class="card">
                                <div class="card-body text-center">
                                    <p><img class=" img-fluid" src="${img}" alt="card image"></p>
                                    <h4 class="card-title">${name}</h4>
                                    <p class="card-text">This is basic card with image on top, title, description and button.</p>
                                    <a href="https://www.fiverr.com/share/qb8D02" class="btn btn-primary btn-sm"><i class="fa fa-plus"></i></a>
                                </div>
                            </div>
                        </div>
                        <div class="backside">
                            <div class="card">
                                <div class="card-body text-center mt-4">
                                    <h4 class="card-title">${name}</h4>
                                    <p class="card-text">This is basic card with image on top, title, description and button.This is basic card with image on top, title, description and button.This is basic card with image on top, title, description and button.</p>
                                    <ul class="list-inline">
                                        <li class="list-inline-item">
                                            <a class="social-icon text-xs-center" target="_blank" href="https://www.fiverr.com/share/qb8D02">
                                                <i class="fa fa-facebook"></i>
                                            </a>
                                        </li>
                                        <li class="list-inline-item">
                                            <a class="social-icon text-xs-center" target="_blank" href="https://www.fiverr.com/share/qb8D02">
                                                <i class="fa fa-twitter"></i>
                                            </a>
                                        </li>
                                        <li class="list-inline-item">
                                            <a class="social-icon text-xs-center" target="_blank" href="https://www.fiverr.com/share/qb8D02">
                                                <i class="fa fa-skype"></i>
                                            </a>
                                        </li>
                                        <li class="list-inline-item">
                                            <a class="social-icon text-xs-center" target="_blank" href="https://www.fiverr.com/share/qb8D02">
                                                <i class="fa fa-google"></i>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ./Team member -->
`;
    }
</script>
</body>
</html>